# C++çŸ¥è¯† ğŸ¤­

> ä¸€ä¸ªä¸ºå‘¨èµ›å‡†å¤‡çš„ C++ cheatsheet

- [C++çŸ¥è¯† ğŸ¤­](#cçŸ¥è¯†-)
  - [å˜é‡å­˜å‚¨ç©ºé—´å¤§å°](#å˜é‡å­˜å‚¨ç©ºé—´å¤§å°)
    - [x86](#x86)
    - [x64](#x64)
    - [INT çš„è¾¹ç•Œ](#int-çš„è¾¹ç•Œ)
  - [æ•°ç»„](#æ•°ç»„)
  - [å­—ç¬¦ä¸å­—ç¬¦ä¸²](#å­—ç¬¦ä¸å­—ç¬¦ä¸²)
  - [é¡ºåºå®¹å™¨](#é¡ºåºå®¹å™¨)
    - [`<array>`](#array)
    - [`<vector>`](#vector)
      - [è¿­ä»£å™¨](#è¿­ä»£å™¨)
    - [`<string>`](#string)
      - [åŸºç¡€å‡½æ•°](#åŸºç¡€å‡½æ•°)
    - [`<stack>`](#stack)
      - [åŸºç¡€å‡½æ•°](#åŸºç¡€å‡½æ•°-1)
      - [æ ˆçš„éå†](#æ ˆçš„éå†)
    - [`<map>`](#map)
      - [`<unordered_map>`](#unordered_map)
    - [`<set>`](#set)
      - [åŸºç¡€å‡½æ•°](#åŸºç¡€å‡½æ•°-2)
      - [éå†](#éå†)
    - [pair](#pair)
  - [æ³›å‹ç®—æ³•](#æ³›å‹ç®—æ³•)
  - [åŒ¿åå‡½æ•°](#åŒ¿åå‡½æ•°)

## å˜é‡å­˜å‚¨ç©ºé—´å¤§å°

æ³¨é‡Šä¸­æ˜¯å˜é‡å çš„å­—èŠ‚æ•°ã€‚

### x86

```c++
sizeof(char)  //1
sizeof(char*)  //4
sizeof(int)  //4
sizeof(int*)  //4
sizeof(double)  //8
sizeof(double*)  //4
sizeof(float)  //4
sizeof(float*)  //4
sizeof(string)  //28
sizeof(string*)  //4
```

### x64

```c++
sizeof(char)  //1
sizeof(char*)  //8
sizeof(int)  //4
sizeof(int*)  //8
sizeof(double)  //8
sizeof(double*)  //8
sizeof(float)  //4
sizeof(float*)  //8
sizeof(string)  //40
sizeof(string*)  //8
```

### INT çš„è¾¹ç•Œ

INT_MAX = 2^31-1=2147483647
INT_MIN = -2^31=-2147483648
ä¹Ÿå¯ä»¥å†™æˆ Integer.MAX_VALUE å’Œ Integer.MIN_VALUEã€‚

## æ•°ç»„

æ•°ç»„çš„èµ‹å€¼ï¼š

```c++
//1
int mat[10][10];
memset(mat,0,sizeof(mat));
//2
int mat[10][10]={0}; //åˆå§‹åŒ–ä¸º0
```

## å­—ç¬¦ä¸å­—ç¬¦ä¸²

åˆ¤æ–­å­—ç¬¦æ˜¯å¦æ˜¯æ•°å­—ï¼š`bool isNum=Character.isDigit(ch)`ï¼Œæ˜¯æ•°å­—è¿”å› trueï¼Œä¸æ˜¯è¿”å› falseã€‚

## é¡ºåºå®¹å™¨

### `<array>`

> å›ºå®šå¤§å°æ•°ç»„ï¼Œæ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ï¼Œä¸èƒ½æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ã€‚

### `<vector>`

#### è¿­ä»£å™¨

å®šä¹‰è¿­ä»£å™¨ï¼š`vector<int>::iterator iter;`
éå†è¿­ä»£å™¨ï¼š

```c++
vector<int> ivec;
for (vector<int>::iterator iter = ivec.begin(); iter != ivec.end(); ++iter)
```

åˆ é™¤è¿­ä»£å™¨æŒ‡å‘çš„å†…å®¹ï¼š

```c++
ivec.erase(iter);
```

**åˆ é™¤è¿­ä»£å™¨æŒ‡å‘çš„å…ƒç´ ä¹‹åï¼Œå½“å‰è¿­ä»£å™¨çš„æŒ‡å‘çš„å•å…ƒæ²¡æœ‰å˜ï¼Œè€Œæ˜¯å…ˆæ¸…ç©ºå½“å‰å•å…ƒï¼Œç„¶ååé¢å•å…ƒçš„å†…å®¹ä¸€ä¸ªæ¥ä¸€ä¸ªç§»åŠ¨åˆ°äº†å‰ä¸€ä¸ªå•å…ƒã€‚**

ç§»åŠ¨è¿­ä»£å™¨
advance() å‡½æ•°ç”¨äºå°†è¿­ä»£å™¨å‰è¿›ï¼ˆæˆ–è€…åé€€ï¼‰æŒ‡å®šé•¿åº¦çš„è·ç¦»ï¼Œå…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š

```c++
template <class InputIterator, class Distance>
    void advance (InputIterator& it, Distance n);
```

å…¶ä¸­ it æŒ‡çš„æ˜¯ç›®æ ‡è¿­ä»£å™¨ï¼Œn é€šå¸¸ä¸ºä¸€ä¸ªæ•´æ•°ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœ it ä¸ºè¾“å…¥è¿­ä»£å™¨æˆ–è€…å‰å‘è¿­ä»£å™¨ï¼Œåˆ™ n å¿…é¡»ä¸ºä¸€ä¸ªæ­£æ•°ï¼Œå³è¡¨ç¤ºå°† it å³ç§»ï¼ˆå‰è¿›ï¼‰ n ä¸ªä½ç½®ï¼›åä¹‹ï¼Œå¦‚æœ it ä¸ºåŒå‘è¿­ä»£å™¨æˆ–è€…éšæœºè®¿é—®è¿­ä»£å™¨ï¼Œåˆ™ n ä¸ºæ­£æ•°æ—¶è¡¨ç¤ºå°† it å³ç§»ï¼ˆå‰è¿›ï¼‰ n ä¸ªä½ç½®ï¼Œn ä¸ºè´Ÿæ•°æ—¶è¡¨ç¤ºå°† it å·¦ç§»ï¼ˆåé€€ï¼‰ n ä¸ªä½ç½®ã€‚

### `<string>`

#### åŸºç¡€å‡½æ•°

```c++
#include<iostream>
using namespace std;
int main()
{
 string str="hello";
 string s="Hahah";
 str.insert(1,s);//åœ¨åŸä¸²ä¸‹æ ‡ä¸º1çš„å­—ç¬¦eå‰æ’å…¥å­—ç¬¦ä¸²s
 cout<<str<<endl;

 string str1="hello";
 char c='w';
 str1.insert(4,5,c);//åœ¨åŸä¸²ä¸‹æ ‡ä¸º4çš„å­—ç¬¦oå‰æ’å…¥5ä¸ªå­—ç¬¦c
 cout<<str1<<endl;

 string str2="hello";
 string s2="weakhaha";
 str2.insert(0,s2,1,3);//å°†å­—ç¬¦ä¸²s2ä»ä¸‹æ ‡ä¸º1çš„eå¼€å§‹æ•°3ä¸ªå­—ç¬¦ï¼Œåˆ†åˆ«æ˜¯eakï¼Œæ’å…¥åŸä¸²çš„ä¸‹æ ‡ä¸º0çš„å­—ç¬¦hå‰
 cout<<str2<<endl;

 return 0;
}
```

åˆ é™¤ç©ºæ ¼ï¼š`str = str.trim();`

string è½¬ int `int num=stoi(str.c_str())`

### `<stack>`

#### åŸºç¡€å‡½æ•°

```c++
stack<T> st;
st.empty();         //å¦‚æœæ ˆä¸ºç©ºåˆ™è¿”å›true, å¦åˆ™è¿”å›false;
st.size();          //è¿”å›æ ˆä¸­å…ƒç´ çš„ä¸ªæ•°
st.top();           //è¿”å›æ ˆé¡¶å…ƒç´ å€¼, ä¸å¼¹æ ˆ
st.pop();           //å¼¹æ ˆ,æ³¨æ„ä¸è¿”å›å…¶å€¼
st.push();          //å‹æ ˆ
```

#### æ ˆçš„éå†

æƒ³è¦å¤šæ¬¡éå†æ ˆï¼Œä½†æ˜¯åˆä¿æŠ¤æ ˆçš„ç»“æ„ï¼Œä»¥ä¸‹æ˜¯ä¸€ç§å¯èƒ½çš„æ–¹æ³•ï¼š

```c++
vector<T> v;
while (!st.empty())
{
    v.push_back(st.top());
    cout << st.top() << " ";
    st.pop();
}
for(int i=v.size()-1;i>=0;i--)
{
    st.push(v[i]);
}

```

### `<map>`

#### `<unordered_map>`

unordered_map åœ¨æ’å…¥é”®çš„æ—¶å€™ä¸ä¼šè¿›è¡Œæ’åºï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸éœ€è¦æ’åºçš„å“ˆå¸Œè¡¨ç”¨ unordered_map æ¥å®ç°ã€‚

### `<set>`

#### åŸºç¡€å‡½æ•°

```c++
set<T> st;
st.begin(); //è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ 
st.end();   //è¿”å›sæœ€åä¸€ä¸ªå…ƒç´ 
st.clear(); //åˆ é™¤sæ‰€æœ‰çš„å…ƒç´ 
st.empty(); //åˆ¤æ–­sæ˜¯å¦ä¸ºç©º
st.size(); ã€€//è¿”å›å…ƒç´ ä¸ªæ•°
st.max_size() //å¯å­˜å‚¨çš„æœ€å¤§å…ƒç´ ä¸ªæ•°
int element=5;
//åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨é›†åˆsetä¸­,å­˜åœ¨è¿”å›1ï¼Œä¸å­˜åœ¨è¿”å›0
st.count(element);
//æ·»åŠ å…ƒç´ 
st.insert(element);
//åˆ é™¤å…ƒç´ 
auto it = st.begin();
st.erase(*it);

```

#### éå†

### pair

pairæ˜¯å¯ä»¥æ¯”è¾ƒå¤§çš„ï¼Œå…ˆæŒ‰firstæ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰ï¼Œå†æŒ‰ç…§secondæ¯”è¾ƒã€‚

## æ³›å‹ç®—æ³•

1. accumulate: æ±‚å’Œ

å‰ä¸¤ä¸ªå‚æ•°æ˜¯æ±‚å’Œçš„å…ƒç´ çš„èŒƒå›´ï¼Œç¬¬ä¸‰ä¸ªæ˜¯å’Œçš„åˆå§‹å€¼ã€‚

```c++
int sum = accumulate(vec.begin(),vec.end(),0);
```

2. equalï¼šç¡®å®šåºåˆ—æ˜¯å¦ä¿å­˜ç›¸åŒçš„å€¼ã€‚

- ä¸‰ä¸ªè¿­ä»£å™¨ï¼Œå‰ä¸¤ä¸ªè¡¨ç¤ºç¬¬ä¸€ä¸ªåºåˆ—ä¸­çš„å…ƒç´ èŒƒå›´ï¼Œç¬¬ä¸‰ä¸ªè¡¨ç¤ºç¬¬äºŒä¸ªå…ƒç´ çš„é¦–åºåˆ—ã€‚
- è¦æ±‚ç¬¬äºŒä¸ªåºåˆ—é•¿åº¦ä¸å°äºç¬¬ä¸€ä¸ªåºåˆ—ã€‚

## åŒ¿åå‡½æ•°

```c++
[capture](parameters)->return-type{body}
//[æ•è·åˆ—è¡¨](å‚æ•°åˆ—è¡¨)->è¿”å›ç±»å‹-{å‡½æ•°ä¸»ä½“}
#include<iostream>
using namespace std;
int main(){
    int x=1,y=2,z=0;
    auto add = [&z](auto x,auto y){z=x+y;return z;};
    auto res = add(x,y);
    cout<<res<<z<<endl;
}
```

ä¾‹å­ï¼š

```c++
vector<pair<int,int>> costs;
auto compare = [&](const auto& a,const auto& b ){
        if (a.first != b.first)
            return a.first > b.first;//ä»·å€¼ä¸åŒæ—¶ï¼Œä»·å€¼å¤§çš„ä¼˜å…ˆ
        else
            return a.second < b.second;//ä»·å€¼ç›¸åŒæ—¶ï¼Œæ ‡å·å°çš„ä¼˜å…ˆ
}
sort(costs.begin(),costs.end(),compare);
```
